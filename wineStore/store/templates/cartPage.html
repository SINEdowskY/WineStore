{% extends 'base.html' %}



{% block content %}
<div class="container-fluid">
    <div class="row justify-content-center">
        <h1>Cart</h1>
    </div>
    <div class="row">
        <div class="col">           
            {% if cart_items %}
            {% for item in cart_items %}
            <div class="row d-flex justify-content-center">
                <div class="col">
                    <h5>{{ item.wine_id.title }} x {{item.amount}}</h5>
                    <a class="btn btn-primary" href="{% url 'increment_item' cart_item_id=item.id %}" role="button">+</a>
                    <a class="btn btn-primary" href="{% url 'decrement_item' cart_item_id=item.id %}" role="button">-</a>
                </div>
                <div class="col">
                    <p>{% widthratio item.amount 1 item.wine_id.price %} &euro;</p>
                </div>
                <div class="col">
                    <a class="btn btn-primary" href="{% url 'remove_item'  cart_item_id=item.id %}" role="button">X</a>
                </div>
            </div>
            {% endfor %}
    
            <div class="row d-flex">
                <div class="col">
                    
                    {{ cart_value }}
                        
                </div>
                <div class="col">
                    <a class="btn btn-primary" href="{% url 'checkout' %}" role="button">
                        Checkout
                    </a>
                </div>
            </div>
            {% else %}
            Koszyk jest pusty !                
            {% endif %}
                
        </div>
    </div>
</div>
        
{% endblock content %}
    